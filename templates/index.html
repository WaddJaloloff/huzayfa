<!DOCTYPE html>
<html lang="uz">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Huzayfa Jalolov</title>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/732/732190.png">
  <link rel="stylesheet" href="static/style.css">
</head>

<body>
  <div class="info-boxes">
    <div class="info-box">
      <span>/01</span>
      Kompaniyangizdagi sotuvni va samaradorlikni oshirishga yordam beramiz
    </div>
    <div class="info-box">
      <span>/02</span>
      Boshqalardan farqimiz aytgan ishimizni qila olmasak bergan pulingiz 100% qaytarib beriladi
    </div>
    <div class="info-box">
      <span>/03</span>
      Shu vaqtgacha 10taga yaqin yirik loyihalar bilan ishlab kelganmiz
    </div>
  </div>

  <div class="main-content">
    <img src="static/IMG_20251107_192516_903.JPG" alt="Profile Photo">
    <h1>IT XIZMAT UCHUN <span style="color: gold;">KONSULTATSIYA BEPUL</span></h1>
    <p>o'z mutaxassislaringizdan qildiring yoki pulingizni qaytarib oling!</p>
    <button id="openModal" style="color: #fff;" class="attention-btn">ARIZA QOLDIRISH</button>


  </div>

  <!-- Modal -->
  <div class="modal" id="modal">
    <div class="modal-content">
      <span class="close-btn" id="closeModal">×</span>
      <h2>IT tizim va konsultatsiya</h2>
      <p>Ma'lumotlaringizni qoldiring, siz bilan shaxsan o'zim bog'lanaman</p>
      <form action="/submit" method="POST">
        <label>Ismingiz</label>
        <input type="text" name="name" placeholder="Ismingiz" required>

        <label>Telefon raqamingiz</label>
        <div class="phone-wrapper">
          <span class="phone-prefix">
            <img src="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/6.6.6/flags/4x3/uz.svg" alt="UZ"
              class="flag-icon">
            <span class="dial">+998</span>
          </span>

          <input type="text" id="phone" name="phone" inputmode="numeric" autocomplete="tel" placeholder="901234567"
            maxlength="9" pattern="^\d{9}$" required aria-describedby="phoneError">
        </div>

        <small id="phoneError" class="error-text">
          Telefon raqam faqat raqamlardan iborat bo‘lsin va aniq 9 ta raqam kiriting.
        </small>

        <label>Biznesingiz yo‘nalishi</label>
        <input type="text" name="business" placeholder="Sohangiz" required>

        <label>IT dastur uchun budjetingiz</label>
        <input type="text" name="budget" placeholder="$15.000" required>

        <button type="submit">YUBORISH</button>
      </form>


    </div>
  </div>
  <script>
    const openModal = document.getElementById('openModal');
    const closeModal = document.getElementById('closeModal');
    const modal = document.getElementById('modal');

    // Modal ochilganda
    openModal.addEventListener('click', () => {
      modal.classList.add('show');
      modal.style.display = 'flex';
      document.body.style.overflow = 'hidden';
    });

    // Modal yopilganda
    const closeModalFunc = () => {
      modal.classList.remove('show');
      setTimeout(() => {
        modal.style.display = 'none';
        document.body.style.overflow = '';
      }, 400); // CSS transition bilan mos
    };

    closeModal.addEventListener('click', closeModalFunc);

    // Modal tashqarisiga bosilganda yopish
    window.addEventListener('click', (e) => {
      if (e.target === modal) {
        closeModalFunc();
      }
    });

    // Mobil klaviatura chiqganda modal content scroll qilish uchun
    modal.addEventListener('touchmove', (e) => {
      e.stopPropagation();
    }, { passive: true });
    // Misol: modal ichidagi formani pastga scroll qilish
    modal.scrollTo({
      top: 200,    // kerakli pozitsiya
      behavior: 'smooth'
    });

  </script>
  <script>
    const phoneInput = document.getElementById("phone");
    const phoneError = document.getElementById("phoneError");

    // Faqat raqam kiritish
    phoneInput.addEventListener("input", () => {
      phoneInput.value = phoneInput.value.replace(/\D/g, "");
    });

    // Form yuborishda tekshirish
    document.querySelector("form").addEventListener("submit", function (e) {
      if (phoneInput.value.length !== 9) {
        e.preventDefault();
        phoneError.style.display = "block";
      } else {
        phoneError.style.display = "none";
      }
    });
  </script>
</body>

</html>